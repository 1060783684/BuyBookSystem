<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>下架宝贝</title>
    <style type="text/css">
        .a {
            color: #000;
        }

        a {
            text-decoration: none;
            font-size: 16px;
            color: #000;
        }

        .a a {
            color: #000;
        }

        .a {
            color: #000;
        }

        .b {
            color: #000;
            font-size: 14px;
        }

        .c {
            color: #000;
            font-size: 14px;
        }

        .d {
            color: #000;
        }

        .e {
            color: #000;
            font-size: 14px;
        }

        .a {
            font-size: 14px;
        }

        .d {
            font-size: 14px;
        }

        .aaa {
            color: #FFF;
        }

        .bbb {
            color: #FFF;
        }

        .h {
            color: #000;
        }

        .ddd {
            color: #000;
        }

        .eee {
            color: #000;
        }

        .fff {
            color: #000;
        }

        .ggg {
            color: #000;
        }

        #x {
            color: #F00;
        }

        #x {
            color: #F00;
        }

        .j {
            color: #F00;
        }

        .k {
            color: #000;
        }

        .m {
            color: #000;
        }

        #z #x .x {
            font-size: 14px;
        }

        #z #x .x {
            font-size: 14px;
        }

        .x {
            font-size: 14px;
        }

        #z #x .x {
            font-size: 12px;
        }

        #ss {
            font-size: 12px;
        }

        .tj {
            color: white
        }

        #yy {
            font-size: 12px;
        }

        .z {
            color: #000;
            font-size: 14px;
        }

        #qu {
            color: #F00;
        }
    </style>
    <script type="text/javascript" src="/jslib/jquery-3.3.1.js"></script>
    <script type="text/javascript" src="/js/constance.js"></script>
    <script type="text/javascript">
        var goodsTableHtml = "";
        $(document).ready(function () {
            goodsTableHtml = $("#goodsTable").html();
            $.post("/store/searchUpGoodsList.do", {"page":0}, function (data, status) {
                if (data != undefined) {
                    var json = eval('(' + data + ')');
                    if(json != undefined) {
                        switch (json.sresult) {
                            case RESULT_SUCCESS: {
                                var goodsList = json.goodsList;//从json对象中获取的{}是json对象类型
                                var goodsInfos = "";
                                for(var i = 0; i < goodsList.length; i++){
                                    var goods = goodsList[i];
                                    //id独占一行
                                    if (goods.id != undefined) {
                                        goodsInfo += '<tr><td height="33" colspan="6" bgcolor="#DBE7F2" id="ss1">&nbsp; &nbsp;&nbsp;<span id="ss">&nbsp; 物品ID：' + goods.id + '</span></td></tr>';
                                    } else {
                                        goodsInfo += '<tr><td height="33" colspan="6" bgcolor="#DBE7F2" id="ss1">&nbsp; &nbsp;&nbsp;<span id="ss">&nbsp; 物品ID：' + 无 + '</span></td></tr>';
                                    }

                                    //剩下的属性总共占一行
                                    var goodsInfo = "<tr>";
                                    //图片
                                    if(goods.imgSrc != undefined){
                                        goodsInfo += '<td width="195" height="163" align="center" valign="top" style="border:1px solid #E9E9E9;"><a href="#"><img src="'+ goods.imgSrc +'" width="156" height="156"/></a></td>';
                                    }else {
                                        goodsInfo += '<td width="195" height="163" align="center" valign="top" style="border:1px solid #E9E9E9;"><a href="#"><img src="'+ 无 +'" width="156" height="156"/></a></td>';
                                    }
                                    //书名和分类
                                    if(goods.name != undefined || goods.type != undefined){
                                        var goodsName = "无";
                                        var goodsType = "无";
                                        if(goods.name != undefined){
                                            goodsName = goods.name;
                                        }
                                        if(goods.type != undefined){
                                            switch (goods.type){
                                                case EDUCATION:{
                                                    goodsType = "教育";
                                                    break;
                                                }
                                                case PHILOPHY:{
                                                    goodsType = "哲学";
                                                    break;
                                                }
                                                case ART:{
                                                    goodsType = "艺术";
                                                    break;
                                                }
                                                case CLASSICAL:{
                                                    goodsType = "古典";
                                                    break;
                                                }
                                                case LITERATURE:{
                                                    goodsType = "文学";
                                                    break;
                                                }
                                                case CHILDREN:{
                                                    goodsType = "少儿";
                                                    break;
                                                }
                                                case LAGISLATION:{
                                                    goodsType = "法律";
                                                    break;
                                                }
                                            }
                                        }
                                        goodsInfo += '<td width="147" align="left" valign="top" style="border:1px solid #E9E9E9;"><p><a href="#" title="ll">' + goodsName + '</a></p><p>' + goodsType + '</p></td>';
                                    }else {
                                        goodsInfo += '<td width="147" align="left" valign="top" style="border:1px solid #E9E9E9;"><p><a href="#" title="ll">' + 无 + '</a></p><p>' + 无 + '</p></td>';
                                    }
                                    //价格
                                    if(goods.cost != undefined) {
                                        goodsInfo += '<td width="117" align="left" valign="top" style="border:1px solid #E9E9E9;"><span data-reactid=".0.7:$order-150788455393502820.$150788455393502820.0.1:1:0.$0.$1.0.1.0">￥</span><span data-reactid=".0.7:$order-150788455393502820.$150788455393502820.0.1:1:0.$0.$1.0.1.1" data-spm-anchor-id="a1z09.2.0.i3.434a2e8dIAF6jZ">' + goods.cost + '</span></td>';
                                    }else {
                                        goodsInfo += '<td width="117" align="left" valign="top" style="border:1px solid #E9E9E9;"><span data-reactid=".0.7:$order-150788455393502820.$150788455393502820.0.1:1:0.$0.$1.0.1.0">￥</span><span data-reactid=".0.7:$order-150788455393502820.$150788455393502820.0.1:1:0.$0.$1.0.1.1" data-spm-anchor-id="a1z09.2.0.i3.434a2e8dIAF6jZ">' + 无 + '</span></td>';
                                    }
                                    //库存
                                    if(goods.num != undefined) {
                                        goodsInfo += '<td width="80" align="left" valign="top" style="border:1px solid #E9E9E9;">' + goods.num + '</td>';
                                    }else {
                                        goodsInfo += '<td width="80" align="left" valign="top" style="border:1px solid #E9E9E9;">' + 0 + '</td>';
                                    }
                                    var goodsId = goods.id;
                                    goodsInfo += '<td align="left" valign="top" style="border:1px solid #E9E9E9;"><input type="button" value="下架" style="background:red;height:30px" class="tj" color="grey" onclick="soldGoods(\'' + goodsId + '\')"/></td>';
                                    goodsInfo += "</tr>";
                                    goodsInfos += goodsInfo;
                                }
                                var pageButtons = "";
                                if(json.page != undefined){
                                    var pageNum = parseInt(json.page);
                                    pageButtons += '<tr><td colspan="6" align="center">';
                                    for(var i = 0; i < pageNum; i++){
                                        pageButtons += '<input type="button" value="' + (i+1) + '" onclick="selectPage(' + i + ')"/>';
                                    }
                                    pageButtons += '</td></tr>';
                                }
                                $("#goodsTable").html(goodsTableHtml + goodsInfos + pageButtons);
                            }
                                break;
                            case RESULT_FAIL: {

                            }
                                break;
                            default:
                                break;
                        }
                    }
                }
            });
        });
        function soldGoods(id) {
            if(confirm("您确定要下架么？") == true){
                $.post("/store/soldGoods.do",{"goodsId":id},function (data, status) {
                    if(data != undefined){
                        var json = eval("(" + data + ")");
                        if(json != undefined){
                            switch (json.sresult){
                                case RESULT_SUCCESS: {
                                    alert("下架成功");
                                    window.location.reload();
                                    break;
                                }
                                case RESULT_FAIL: {
                                    alert("操作错误！");
                                    break;
                                }
                            }
                        }
                    }
                });
            }
        }
        function selectPage(page) {
            $.post("/store/searchUpGoodsList.do", {"page":page}, function (data, status) {
                if (data != undefined) {
                    var json = eval('(' + data + ')');
                    if(json != undefined) {
                        switch (json.sresult) {
                            case RESULT_SUCCESS: {
                                var goodsList = json.goodsList;//从json对象中获取的{}是json对象类型
                                var goodsInfos = "";
                                for(var i = 0; i < goodsList.length; i++){
                                    var goods = goodsList[i];
                                    //id独占一行
                                    if (goods.id != undefined) {
                                        goodsInfo += '<tr><td height="33" colspan="6" bgcolor="#DBE7F2" id="ss1">&nbsp; &nbsp;&nbsp;<span id="ss">&nbsp; 物品ID：' + goods.id + '</span></td></tr>';
                                    } else {
                                        goodsInfo += '<tr><td height="33" colspan="6" bgcolor="#DBE7F2" id="ss1">&nbsp; &nbsp;&nbsp;<span id="ss">&nbsp; 物品ID：' + 无 + '</span></td></tr>';
                                    }

                                    //剩下的属性总共占一行
                                    var goodsInfo = "<tr>";
                                    //图片
                                    if(goods.imgSrc != undefined){
                                        goodsInfo += '<td width="195" height="163" align="center" valign="top" style="border:1px solid #E9E9E9;"><a href="#"><img src="'+ goods.imgSrc +'" width="156" height="156"/></a></td>';
                                    }else {
                                        goodsInfo += '<td width="195" height="163" align="center" valign="top" style="border:1px solid #E9E9E9;"><a href="#"><img src="'+ 无 +'" width="156" height="156"/></a></td>';
                                    }
                                    //书名和分类
                                    if(goods.name != undefined || goods.type != undefined){
                                        var goodsName = "无";
                                        var goodsType = "无";
                                        if(goods.name != undefined){
                                            goodsName = goods.name;
                                        }
                                        if(goods.type != undefined){
                                            switch (goods.type){
                                                case EDUCATION:{
                                                    goodsType = "教育";
                                                    break;
                                                }
                                                case PHILOPHY:{
                                                    goodsType = "哲学";
                                                    break;
                                                }
                                                case ART:{
                                                    goodsType = "艺术";
                                                    break;
                                                }
                                                case CLASSICAL:{
                                                    goodsType = "古典";
                                                    break;
                                                }
                                                case LITERATURE:{
                                                    goodsType = "文学";
                                                    break;
                                                }
                                                case CHILDREN:{
                                                    goodsType = "少儿";
                                                    break;
                                                }
                                                case LAGISLATION:{
                                                    goodsType = "法律";
                                                    break;
                                                }
                                            }
                                        }
                                        goodsInfo += '<td width="147" align="left" valign="top" style="border:1px solid #E9E9E9;"><p><a href="#" title="ll">' + goodsName + '</a></p><p>' + goodsType + '</p></td>';
                                    }else {
                                        goodsInfo += '<td width="147" align="left" valign="top" style="border:1px solid #E9E9E9;"><p><a href="#" title="ll">' + 无 + '</a></p><p>' + 无 + '</p></td>';
                                    }
                                    //价格
                                    if(goods.cost != undefined) {
                                        goodsInfo += '<td width="117" align="left" valign="top" style="border:1px solid #E9E9E9;"><span data-reactid=".0.7:$order-150788455393502820.$150788455393502820.0.1:1:0.$0.$1.0.1.0">￥</span><span data-reactid=".0.7:$order-150788455393502820.$150788455393502820.0.1:1:0.$0.$1.0.1.1" data-spm-anchor-id="a1z09.2.0.i3.434a2e8dIAF6jZ">' + goods.cost + '</span></td>';
                                    }else {
                                        goodsInfo += '<td width="117" align="left" valign="top" style="border:1px solid #E9E9E9;"><span data-reactid=".0.7:$order-150788455393502820.$150788455393502820.0.1:1:0.$0.$1.0.1.0">￥</span><span data-reactid=".0.7:$order-150788455393502820.$150788455393502820.0.1:1:0.$0.$1.0.1.1" data-spm-anchor-id="a1z09.2.0.i3.434a2e8dIAF6jZ">' + 无 + '</span></td>';
                                    }
                                    //库存
                                    if(goods.num != undefined) {
                                        goodsInfo += '<td width="80" align="left" valign="top" style="border:1px solid #E9E9E9;">' + goods.num + '</td>';
                                    }else {
                                        goodsInfo += '<td width="80" align="left" valign="top" style="border:1px solid #E9E9E9;">' + 0 + '</td>';
                                    }
                                    var goodsId = goods.id;
                                    goodsInfo += '<td align="left" valign="top" style="border:1px solid #E9E9E9;"><input type="button" value="下架" style="background:red;height:30px" class="tj" color="grey" onclick="soldGoods(\'' + goodsId + '\')"/></td>';
                                    goodsInfo += "</tr>";
                                    goodsInfos += goodsInfo;
                                }
                                var pageButtons = "";
                                if(json.page != undefined){
                                    var pageNum = parseInt(json.page);
                                    pageButtons += '<tr><td colspan="6" align="center">';
                                    for(var i = 0; i < pageNum; i++){
                                        pageButtons += '<input type="button" value="' + (i+1) + '" onclick="selectPage(' + i + ')"/>';
                                    }
                                    pageButtons += '</td></tr>';
                                }
                                $("#goodsTable").html(goodsTableHtml + goodsInfos + pageButtons);
                            }
                                break;
                            case RESULT_FAIL: {

                            }
                                break;
                            default:
                                break;
                        }
                    }
                }
            });
        }
    </script>
</head>

<body>
<table width="1049" border="0">
    <tr>
        <td width="325"></td>
        <td width="162"><a href="/index.html" title="c" class="a">易书网首页</a></td>
        <td width="132"><a href="/view/safety/user/userMainPage.html" title="e" class="a">我的易书</a></td>
        <td width="135"><span class="a"> <a href="/view/safety/store/check/storeMainPage.html" title="f">卖家中心</a></span>
        </td>
        <td width="123"><span class="a"> <a href="/view/safety/user/userShopCar.html"  title="g">购物车</a></span></td>
        <td width="146" colspan="2"></td>
    </tr>
    <tr>
        <td colspan="7">&nbsp;</td>
    </tr>
</table>
<table width="1052" border="0" rules="none" style="border:1px solid #E6E6E6">
    <tbody id="goodsTable">
    <tr>
        <td width="203" rowspan="25" valign="top" id="x">
            <div>
                <p><span id="qb">&nbsp; &nbsp; &nbsp;全部功能</span></p>
                <p>

                    <a href="/view/safety/store/check/storeInfo.html" title="ddd" class="ddd">&nbsp; &nbsp; &nbsp;店铺资料
                    </a></p>
                <p><a href="/view/safety/store/check/storePubGoods.html" title="fff" class="fff">&nbsp; &nbsp; &nbsp;发布宝贝</a>
                </p>
                <p>

                    <a href="/view/safety/store/check/storeSoldGoods.html" title="ggg" class="ggg">&nbsp; &nbsp; &nbsp;下架宝贝</a>
                </p>
                <p>

                    <a href="/view/safety/store/check/storeAllGoods.html" title="hhh">&nbsp; &nbsp; &nbsp;店铺宝贝</a></p>
            </div>
        </td>
        <td colspan="6" bgcolor="#FFFFFF">
            <pre></pre>
        </td>
    </tr>
    <tr border="1">
        <td height="51" colspan="6" style="border: 1px solid #E9E9E9; color: #000000; font-weight: bold;">店铺宝贝</td>
    </tr>
    <tr>
        <td height="20" colspan="6" bgcolor="#FFFFFF">&nbsp; </td>
    </tr>
    <tr id="yy">
        <td height="39" colspan="2" bgcolor="#EFEFEF" id="z1">
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 宝贝
        </td>
        <td height="39" bgcolor="#EFEFEF" id="z2">单价</td>
        <td height="39" bgcolor="#EFEFEF" id="z3">数量</td>
        <td width="157" height="39" bgcolor="#EFEFEF" id="z">操作</td>
    </tr>
    <tr>
        <td colspan="6">&nbsp; </td>
    </tr>

    <!--<tr><td height="33" colspan="5" bgcolor="#DBE7F2" id="ss1">&nbsp; &nbsp;&nbsp;<span id="ss">&nbsp; 物品ID：</span></td></tr>-->
    <!--<tr border="1">-->
        <!--<td width="195" height="163" align="left" valign="top" style="border:1px solid #E9E9E9;"><a href="#"><img src="/userimg/goods/default.png" width="156" height="156"/></a></td>-->
        <!--<td width="147" align="left" valign="top" style="border:1px solid #E9E9E9;"><p><a href="#" title="ll">书名</a></p><p>分类</p></td>-->
        <!--<td width="117" align="left" valign="top" style="border:1px solid #E9E9E9;"><span data-reactid=".0.7:$order-150788455393502820.$150788455393502820.0.1:1:0.$0.$1.0.1.0">￥</span><span data-reactid=".0.7:$order-150788455393502820.$150788455393502820.0.1:1:0.$0.$1.0.1.1" data-spm-anchor-id="a1z09.2.0.i3.434a2e8dIAF6jZ">000.00</span></td>-->
        <!--<td width="80" align="left" valign="top" style="border:1px solid #E9E9E9;">n</td>-->
        <!--<td align="left" valign="top" style="border:1px solid #E9E9E9;"><input type="button" value="下架" style="background:red;height:30px" class="tj" color="grey"/></td>-->
    <!--</tr>-->
    </tbody>
</table>
</body>
</html>
